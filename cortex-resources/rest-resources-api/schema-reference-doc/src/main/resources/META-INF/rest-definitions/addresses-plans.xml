<?xml version="1.0"?>
<definitions xmlns="http://www.elasticpath.com/schema/rest/0.5">

	<family>
		<name>addresses</name>

		<plan>
			<name>read-addresses</name>
			<description><![CDATA[Read list of the customer's addresses.]]></description>
			<step>
				<description><![CDATA[Profile to addresses.]]></description>
				<start>profiles.profile</start>
				<follow-link>addresses</follow-link>
				<result>addresses</result>
			</step>
		</plan>

		<plan>
			<name>read-address</name>
			<description><![CDATA[Read an address from a list of addresses.]]></description>
			<step>
				<description><![CDATA[List of addresses to addresses.]]></description>
				<start>addresses</start>
				<follow-link>element</follow-link>
				<result>address</result>
			</step>
		</plan>

		<plan>
			<name>read-shipping-addresses</name>
			<description><![CDATA[Read list of the customer's shipping addresses.]]></description>
			<step>
				<description><![CDATA[Addresses to shipping addresses.]]></description>
				<start>addresses</start>
				<follow-link>shippingaddresses</follow-link>
				<result>shipping-addresses</result>
			</step>
		</plan>

		<plan>
			<name>read-shipping-address</name>
			<description><![CDATA[Read a shipping address from a list of shipping addresses.]]></description>
			<step>
				<description><![CDATA[Read a specific shipping address selection.]]></description>
				<start>shipping-addresses</start>
				<follow-link>element</follow-link>
				<result>address</result>
			</step>
		</plan>

		<plan>
			<name>read-default-shipping-address</name>
			<description><![CDATA[Read the customer's default shipping addresses.]]></description>
			<step>
				<description><![CDATA[The default shipping addresses.]]></description>
				<start>shipping-addresses</start>
				<follow-link>default</follow-link>
				<result>address</result>
			</step>
		</plan>

		<plan>
			<name>read-billing-addresses</name>
			<description><![CDATA[Read list of the customer's billing addresses.]]></description>
			<step>
				<description>
					<![CDATA[Retrieve a list of the customer's billing addresses. Billing addresses are returned as a list of element links.]]></description>
				<start>addresses</start>
				<follow-link>billingaddresses</follow-link>
				<result>billing-addresses</result>
			</step>
		</plan>

		<plan>
			<name>read-billing-address</name>
			<description><![CDATA[Read billing addresses from the list of billing addresses.]]></description>
			<step>
				<description><![CDATA[Read a specific billing address selection.]]></description>
				<start>billing-addresses</start>
				<follow-link>element</follow-link>
				<result>address</result>
			</step>
		</plan>

		<plan>
			<name>read-default-billing-address</name>
			<description><![CDATA[Read the customer's default billing addresses.]]></description>
			<step>
				<description><![CDATA[The default billing addresses.]]></description>
				<start>billing-addresses</start>
				<follow-link>default</follow-link>
				<result>address</result>
			</step>
		</plan>

		<plan>
			<name>delete-address</name>
			<description>
				<![CDATA[
Delete an address.

If the address was selected to use in an order and the address is deleted, the order will show a NeedInfo link.
				]]>
			</description>
			<step>
				<description><![CDATA[Delete the address.]]></description>
				<start>address</start>
				<delete-self/>
			</step>
		</plan>

		<plan>
			<name>update-address</name>
			<description><![CDATA[Update an address.]]></description>
			<step>
				<description><![CDATA[Update the address.]]></description>
				<start>address</start>
				<update-self/>
			</step>
		</plan>

		<plan>
			<name>add-address</name>
			<description><![CDATA[Create an address.]]></description>
			<step>
				<description><![CDATA[Addresses to address form.]]></description>
				<start>addresses</start>
				<follow-link>addressform</follow-link>
				<result>address-form</result>
			</step>
			<step>
				<description><![CDATA[Submit the form to create an address.]]></description>
				<start>address-form</start>
				<submit></submit>
				<to>address-form</to>
				<via-link>createaddressaction</via-link>
				<result>address</result>
			</step>
		</plan>

	</family>
</definitions>
