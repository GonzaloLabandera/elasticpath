<?xml version="1.0"?>
<definitions xmlns="http://www.elasticpath.com/schema/rest/0.5">

	<family>
		<name>carts</name>

		<plan>
			<name>read-default-cart</name>
			<description>
				<![CDATA[
Retrieve the shopper's default cart. When using *default* in the cart's URI, default evaluates to the logged in shopper's cart I.D.
See the main Cortex documentation for more information on *default*.
				]]>
			</description>
			<step>
				<description><![CDATA[Retrieve the cart with cart-id default.]]></description>
				<start>base.root</start>
				<follow-link>defaultcart</follow-link>
				<result>cart</result>
			</step>
		</plan>

		<plan>
			<name>read-cart-memberships</name>
			<description><![CDATA[
Retrieves the list of carts that the item has been added to.

	GET:{cortex}/carts/memberships/{item_uri}

The list is empty if the item is not in your cart.]]></description>
			<step>
				<description><![CDATA[Retrieves the list of carts that the item has been added to.]]></description>
				<start>items.item</start>
				<follow-link>cartmemberships</follow-link>
				<result>read-cart-memberships</result>
			</step>
		</plan>

		<plan>
			<name>read-add-items-to-cart-form</name>
			<description>
				<![CDATA[Retrieve the add items to cart form on the cart.]]>
			</description>
			<step>
				<description><![CDATA[Retrieve the cart with cart-id default.]]></description>
				<start>cart</start>
				<follow-link>additemstocartform</follow-link>
				<result>add-items-to-cart-form</result>
			</step>
		</plan>

		<plan>
			<name>add-items-to-cart</name>
			<description><![CDATA[Add multiple items to the cart.]]></description>
			<step>
				<description><![CDATA[Submit the add-items-to-cart form]]></description>
				<start>add-items-to-cart-form</start>
				<submit></submit>
				<to>add-items-to-cart-form</to>
				<via-link>additemstocartaction</via-link>
				<result>cart</result>
			</step>
		</plan>

	</family>
</definitions>
